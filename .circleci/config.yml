version: 2
jobs:
  build:
    environment:
      - APP_NAME: listing-editor
    parameters:
      test:
        type: string
        default: "goodbye"
    docker:
      - image: circleci/node
    steps:
      - checkout
      - run: echo "hello world"
#      - run:
#          name: Creating Dummy Artifacts
#          command: |
#            mkdir -p /tmp/1/artifacts;
#            echo "my artifact files in a dir" > /tmp/1/artifacts/artifact-file;
#            mkdir /tmp/artifacts
#            cp -r /tmp/**/artifacts/ /tmp/artifacts
#      - store_artifacts:
#          path: /tmp/artifacts
      - run:
          name: Prepare for artifact storage
          command: |
            mkdir -p /tmp/artifacts
            mkdir -p /tmp/${APP_NAME}/artifacts
            echo "my artifact files in a dir" > /tmp/${APP_NAME}/artifacts/artifact-file;
            cp -r /tmp/${APP_NAME}/artifacts/ /tmp/artifacts
      - store_artifacts:
          path: /tmp/artifacts
